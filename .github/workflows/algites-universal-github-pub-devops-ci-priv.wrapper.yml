name: Algites Universal Pub DevOps CI (Private Wrapper)

on:
  workflow_call:
    inputs:
      build-tool:
        description: "Optional override: auto | gradle | maven"
        required: false
        type: string
        default: "auto"
      java-version:
        description: "Optional override: Java version (e.g. 17, 21). Empty = auto-detect."
        required: false
        type: string
        default: ""

    secrets:
      PRIV_GITHUB_APP_ID:
        required: true
      PRIV_GITHUB_APP_PEM:
        required: true
      PRIV_GITHUB_APP_INSTALLATION_ID:
        required: true
     
jobs:
  ci:
    # Base reusable workflow lives in the PUBLIC DevOps repo
    uses: Algites-EU/pub.gov.Algites.devops/.github/workflows/algites-universal-github-pub-devops-ci.yml@main
    with:
      build-tool: ${{ inputs.build-tool }}
      java-version: ${{ inputs.java-version }}
    secrets:
      GITHUB_APP_ID: ${{ secrets.PRIV_GITHUB_APP_ID }}
      GITHUB_APP_INSTALLATION_ID: ${{ secrets.PRIV_GITHUB_APP_INSTALLATION_ID }}
      GITHUB_APP_PEM: ${{ secrets.PRIV_GITHUB_APP_PEM }}
